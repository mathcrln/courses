(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[551],{306:function(t,n,e){(window.__NEXT_P=window.__NEXT_P||[]).push(["/[username]/[slug]",function(){return e(717)}])},1024:function(t,n,e){"use strict";e.d(n,{Z:function(){return c}});var r=e(5893),i=e(1664),o=e.n(i),a=e(7294),u=e(8218);function c(t){return(0,a.useContext)(u.S).username?t.children:t.fallback||(0,r.jsx)(o(),{href:"/enter",children:"You must be signed in"})}},717:function(t,n,e){"use strict";e.r(n),e.d(n,{__N_SSG:function(){return C},default:function(){return k}});var r=e(5893),i=e(6161),o=e.n(i),a=e(1664),u=e.n(a),c=e(724),s=e.n(c);function l(t){var n=t.post,e="number"===typeof(null===n||void 0===n?void 0:n.createdAt)?new Date(n.createdAt):n.createdAt.toDate();return(0,r.jsxs)("div",{className:"card",children:[(0,r.jsx)("h1",{children:n.title}),(0,r.jsxs)("span",{className:"text-sm",children:["Written by"," ",(0,r.jsx)(u(),{href:"/".concat(n.username,"/"),children:(0,r.jsxs)("a",{className:"text-info",children:["@",n.username]})})," ","on ",e.toISOString()]}),(0,r.jsx)(s(),{children:null===n||void 0===n?void 0:n.content})]})}var d=e(4051),f=e.n(d),h=e(6482),m=e(6677);function p(t,n){(null==n||n>t.length)&&(n=t.length);for(var e=0,r=new Array(n);e<n;e++)r[e]=t[e];return r}function v(t,n,e,r,i,o,a){try{var u=t[o](a),c=u.value}catch(s){return void e(s)}u.done?n(c):Promise.resolve(c).then(r,i)}function x(t){return function(){var n=this,e=arguments;return new Promise((function(r,i){var o=t.apply(n,e);function a(t){v(o,r,i,a,u,"next",t)}function u(t){v(o,r,i,a,u,"throw",t)}a(void 0)}))}}function y(t,n){return function(t){if(Array.isArray(t))return t}(t)||function(t,n){var e=null==t?null:"undefined"!==typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=e){var r,i,o=[],a=!0,u=!1;try{for(e=e.call(t);!(a=(r=e.next()).done)&&(o.push(r.value),!n||o.length!==n);a=!0);}catch(c){u=!0,i=c}finally{try{a||null==e.return||e.return()}finally{if(u)throw i}}return o}}(t,n)||function(t,n){if(!t)return;if("string"===typeof t)return p(t,n);var e=Object.prototype.toString.call(t).slice(8,-1);"Object"===e&&t.constructor&&(e=t.constructor.name);if("Map"===e||"Set"===e)return Array.from(e);if("Arguments"===e||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e))return p(t,n)}(t,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function j(t){var n,e=t.postRef,i=e.collection("hearts").doc(null===h.I8||void 0===h.I8||null===(n=h.I8.currentUser)||void 0===n?void 0:n.uid),o=y((0,m.ky)(i),1)[0],a=function(){var t=x(f().mark((function t(){var n,r,o;return f().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=null===h.I8||void 0===h.I8||null===(n=h.I8.currentUser)||void 0===n?void 0:n.uid,(o=h.RZ.batch()).update(e,{heartCount:(0,h.nP)(1)}),o.set(i,{uid:r}),t.next=7,o.commit();case 7:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),u=function(){var t=x(f().mark((function t(){var n;return f().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return(n=h.RZ.batch()).update(e,{heartCount:(0,h.nP)(-1)}),n.delete(i),t.next=5,n.commit();case 5:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();return(null===o||void 0===o?void 0:o.exists)?(0,r.jsx)("button",{onClick:u,children:"\ud83d\udc94 Unheart"}):(0,r.jsx)("button",{onClick:a,children:"\ud83d\udc97 Heart"})}var b=e(1024),g=e(9008),w=e.n(g);function _(t){var n=t.title,e=void 0===n?"The Full Next.js + Firebase Course":n,i=t.description,o=void 0===i?"A complete Next.js + Firebase course by Fireship.io":i,a=t.image,u=void 0===a?"https://fireship.io/courses/react-next-firebase/img/featured.png":a;return(0,r.jsxs)(w(),{children:[(0,r.jsx)("title",{children:e}),(0,r.jsx)("meta",{name:"twitter:card",content:"summary"}),(0,r.jsx)("meta",{name:"twitter:site",content:"@fireship_dev"}),(0,r.jsx)("meta",{name:"twitter:title",content:e}),(0,r.jsx)("meta",{name:"twitter:description",content:o}),(0,r.jsx)("meta",{name:"twitter:image",content:u}),(0,r.jsx)("meta",{property:"og:title",content:e}),(0,r.jsx)("meta",{property:"og:description",content:o}),(0,r.jsx)("meta",{property:"og:image",content:u})]})}var S=e(8218),A=e(7294);function N(t,n){(null==n||n>t.length)&&(n=t.length);for(var e=0,r=new Array(n);e<n;e++)r[e]=t[e];return r}function I(t,n){return function(t){if(Array.isArray(t))return t}(t)||function(t,n){var e=null==t?null:"undefined"!==typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=e){var r,i,o=[],a=!0,u=!1;try{for(e=e.call(t);!(a=(r=e.next()).done)&&(o.push(r.value),!n||o.length!==n);a=!0);}catch(c){u=!0,i=c}finally{try{a||null==e.return||e.return()}finally{if(u)throw i}}return o}}(t,n)||function(t,n){if(!t)return;if("string"===typeof t)return N(t,n);var e=Object.prototype.toString.call(t).slice(8,-1);"Object"===e&&t.constructor&&(e=t.constructor.name);if("Map"===e||"Set"===e)return Array.from(e);if("Arguments"===e||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e))return N(t,n)}(t,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var C=!0;function k(t){var n=h.RZ.doc(t.path),e=I((0,m.Xi)(n),1)[0]||t.post,i=(0,A.useContext)(S.S).user;return(0,r.jsxs)("main",{className:o().container,children:[(0,r.jsx)(_,{title:e.title,description:e.title}),(0,r.jsx)("section",{children:(0,r.jsx)(l,{post:e})}),(0,r.jsxs)("aside",{className:"card",children:[(0,r.jsx)("p",{children:(0,r.jsxs)("strong",{children:[e.heartCount||0," \ud83e\udd0d"]})}),(0,r.jsx)(b.Z,{fallback:(0,r.jsx)(u(),{href:"/enter",children:(0,r.jsx)("button",{children:"\ud83d\udc97 Sign Up"})}),children:(0,r.jsx)(j,{postRef:n})}),(null===i||void 0===i?void 0:i.uid)===e.uid&&(0,r.jsx)(u(),{href:"/admin/".concat(e.slug),children:(0,r.jsx)("button",{className:"btn-blue",children:"Edit Post"})})]})]})}},6161:function(t){t.exports={container:"Post_container__jmeoa"}},9008:function(t,n,e){t.exports=e(3121)}},function(t){t.O(0,[963,774,888,179],(function(){return n=306,t(t.s=n);var n}));var n=t.O();_N_E=n}]);